<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>This is the new Slothyx</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href="stylesheets/layout.css" rel="stylesheet">
    <link href="stylesheets/style.css" rel="stylesheet">

    <link href="css/jquery-ui.min.css" rel="stylesheet">
    <link href="css/theme.css" rel="stylesheet">
    <link href="css/options.css" rel="stylesheet">
    <link href="css/results.css" rel="stylesheet">
    <link href="css/playlist.css" rel="stylesheet">
    <link href="css/prim.css" rel="stylesheet">
    <link href="css/util.css" rel="stylesheet">
    <link href="css/messages.css" rel="stylesheet">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/knockout/3.2.0/knockout-min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/knockout-sortable/0.8.1/knockout-sortable.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>

    <script src="js/util.js"></script>
    <script src="js/knockout.js"></script>
    <script src="js/messages.js"></script>
    <script src="js/persist.js"></script>
    <script src="js/player.js"></script>
    <script src="js/ytPlayer.js"></script>
    <script src="js/youtube.js"></script>
    <script src="js/playlist.js"></script>
    <script src="js/main.js"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="https://apis.google.com/js/client.js?onload=googleApiCallback"></script>


</head>

<body>
<header>


    <ul>

        <!--option menue-->
        <li class="bars">
            <div class="menu">
            </div>
            <i class="fa fa-bars"></i>
        </li>
        <li>
            <i class="fa fa-magic"></i>
        </li>

        <!--search bar-->
        <li class="input_group">
            <input type="text" placeholder=""
                   data-bind="onKey: {key: $root.util.keys.ENTER, action: $root.magicInputGo}, textInput: $root.magicInputQuery"><!--
           --><button title="Search video" data-bind="click: $root.magicInputGo"><i class="fa fa-magic"></i>
            </button>

            <button class="loadmoreButton"
                    data-bind="click: $root.youtube.loadMore, visible: $root.youtube.showLoadMoreButton"
                    style="display: none">Load More
            </button>
        </li>
    </ul>

</header>

<!--main-->
<div class="main">

    <div class="results" id="searchResults" data-bind="foreach: $root.youtube.searchResultsModel.searchResults">
        <div class="results-item">
            <div class="results-item-top">
                <img class="results-image" data-bind="attr: {src: video.image}">
            </div>
            <div class="results-item-bottom">
                <p data-bind="text: video.title"></p>
            </div>
            <button data-bind="click: addToPlaylist">+</button>
            <button data-bind="click: searchRelated">Search Related</button>
        </div>
    </div>

    <div class="major-console" data-bind="with: $root.playlist.playlistModel">
        <div class="tv-container" id="tvset" data-bind="click: $root.toggle">
            <div id="ytPlayer">
                You need Flash player 8+ and JavaScript enabled to play videos.
            </div>
        </div>

        <span id="playlistSelectHolder">
							<select class="playlistSelect"
                                    data-bind="options: playlists, optionsText: 'name', value: playlist"></select></span>

        <div id="playlistItems" data-bind="if: (playlist() !== null && playlist() !== undefined)">

            <!-- this div contains all added videos-->
            <div data-bind="sortable: {data: playlist().videos, afterMove: slothyx.lists.getPlaylist().changed, options: {helper: 'clone', distance: 10}}">

                <!-- shows a single video -->
                <div class="listItem" data-bind="click: select, css: {selected: isSelected()}">
                    <table>
                        <tr>
                            <td>
                                <!-- video title -->
                                <span
                                        data-bind="text: video.title, css: {invalid: invalid}"></span>
                            </td>

                            <td>
                                <!-- remove button-->
                                <i class="xdelete fa fa-trash"
                                   data-bind="click: remove"></i>
                            </td>
                        </tr>
                    </table>

                </div>
            </div>
        </div>

    </div>
    <div class="results">
        <span style="color:white;">Copyright &copy; by BÃ¶hringer Friedrich (2014)</span>
    </div>

</div>

<!-- current song / controls -->
<div class="controls">
    <ul>
        <li>
            <!-- TODO change to button-->
            <div id="playstop" data-bind="with: $root.stateModel, click: $root.toggle"><i
                    class="fa"
                    data-bind="css: {'fa-play': !playing(), 'fa-pause': playing()}"></i>
            </div>
        </li>

        <li>
            <button data-bind="click: $root.selectPrevious" class="fa fa-step-backward"></button>
            <button data-bind="click: $root.selectNext" class="fa fa-step-forward"></button>
        </li>

        <li>
            <!-- 'progressSlider' enables the user to control the video -->
            <div id="progressSlider" data-bind="slider: $root.progressSlider"></div>

        </li>

        <li>
            <div id="volumeSlider" data-bind="slider: $root.volumeSlider"></div>
        </li>

        <li>
            <div id="fullscreen"
                 data-bind="click: $root.requestFullscreen"><i class="fa fa-arrows-alt"></i>
            </div>
        </li>

        <li>
            <div class="selectStylePlayOrder" data-bind="with: $root.playlist.playlistSettings">
                <button class="" data-bind="toggleButton: {value: shuffle, trueClass: 'fa fa-random', falseClass: 'fa fa-sort-amount-asc'}"></button><!--
                    this line break is commented because otherwise layouting fucks up
                    --><button class="" data-bind="toggleButton: {value: replay, trueClass: 'fa fa-repeat', falseClass: 'fa fa-arrow-right'}"></button>
            </div>
        </li>

    </ul>
</div>

</body>
</html>